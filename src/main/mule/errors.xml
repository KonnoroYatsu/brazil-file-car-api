<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">
	<error-handler name="common-brasil-fipe-car-error-handler-errors-flow" doc:id="46235ddd-b6e8-4299-8dd3-a7a52ff08ec6" >
		<on-error-propagate enableNotifications="false" logException="false" doc:name="On Error Propagate" doc:id="971c5ae0-80bd-4156-8da7-26c1ed3f998b" when="#[['FIPECAR:BRAND_NOT_FOUND', 'FIPECAR:MODELS_NOT_FOUND'] contains error.errorType]">
			<logger level="ERROR" doc:name="[ERROR] - Log Error" doc:id="52d86f26-e59a-41b0-99bc-d5a67aaefb87" message='#["An error occurred: " ++ error.description]'/>
			<set-variable value="404" doc:name="vars.httpStatus" doc:id="c76d3e53-b59d-4e02-9ebd-f66f55177b30" variableName="httpStatus"/>
		</on-error-propagate>
	</error-handler>
</mule>
